<!DOCTYPE html>
<html>
<head>
    <title>Pedestrian Comfort Map - Al Karama</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { margin: 0; font-family: Arial, sans-serif; }
        #map { width: 100%; height: 100vh; }
        .panel {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255,255,255,0.95);
            padding: 20px;
            border-radius: 8px;
            z-index: 1000;
            max-width: 350px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            max-height: 90vh;
            overflow-y: auto;
        }
        .panel h2 { margin: 0 0 5px 0; color: #1565c0; }
        .panel h3 { margin: 15px 0 8px 0; font-size: 14px; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
        .stats { font-size: 13px; }
        .stat-row { display: flex; justify-content: space-between; padding: 4px 0; }
        .legend { margin: 10px 0; }
        .legend-item { display: flex; align-items: center; margin: 4px 0; font-size: 12px; }
        .legend-color { width: 18px; height: 18px; border-radius: 50%; margin-right: 8px; border: 1px solid #999; }
        .btn { padding: 8px 12px; margin: 3px; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; }
        .btn-active { background: #1565c0; color: white; }
        .btn:not(.btn-active) { background: #e0e0e0; }
        .route-info { background: #e3f2fd; padding: 10px; border-radius: 6px; margin: 10px 0; font-size: 12px; }
        .route-info b { color: #1565c0; }
        .comfort-high { color: #2e7d32; }
        .comfort-low { color: #c62828; }
    </style>
</head>
<body>
    <div id="map"></div>
    <div class="panel">
        <h2>Pedestrian Comfort Map</h2>
        <p style="margin: 5px 0; color: #666; font-size: 12px;">Walking comfort based on shade, vegetation & temperature</p>

        <h3>Comfort Distribution</h3>
        <div class="stats">
            <div class="stat-row"><span class="comfort-high">Very Comfortable:</span><span>300 pts</span></div>
            <div class="stat-row"><span class="comfort-high">Comfortable:</span><span>3,047 pts</span></div>
            <div class="stat-row"><span class="comfort-low">Uncomfortable:</span><span>970 pts</span></div>
        </div>

        <h3>Comfort Index (PCI)</h3>
        <div style="font-size: 11px; color: #666; margin-bottom: 8px;">
            Temperature (40%) + Shade (35%) + Vegetation (25%)
        </div>
        <div class="legend">
            <div class="legend-item"><div class="legend-color" style="background: #1b5e20;"></div> Very Comfortable (>0.6)</div>
            <div class="legend-item"><div class="legend-color" style="background: #66bb6a;"></div> Comfortable (0.45-0.6)</div>
            <div class="legend-item"><div class="legend-color" style="background: #ffb74d;"></div> Moderate (0.3-0.45)</div>
            <div class="legend-item"><div class="legend-color" style="background: #e53935;"></div> Uncomfortable (<0.3)</div>
        </div>

        <h3>Display</h3>
        <div>
            <button class="btn btn-active" id="btn-segments" onclick="showLayer('segments')">Street Segments</button>
            <button class="btn" id="btn-routes" onclick="showLayer('routes')">Route Example</button>
        </div>

        <div id="route-panel" style="display: none;">
            <h3>Route Comparison</h3>
            <div class="route-info">
                <div style="margin-bottom: 8px;"><b>Shortest Route</b> (blue dashed)</div>
                <div>Distance: <span id="short-dist"></span>m</div>
                <div>Avg Comfort: <span id="short-pci"></span></div>
                <div>Avg Temperature: <span id="short-lst"></span>°C</div>
            </div>
            <div class="route-info" style="background: #e8f5e9;">
                <div style="margin-bottom: 8px;"><b style="color: #2e7d32;">Comfort Route</b> (green solid)</div>
                <div>Distance: <span id="comfort-dist"></span>m</div>
                <div>Avg Comfort: <span id="comfort-pci"></span></div>
                <div>Avg Temperature: <span id="comfort-lst"></span>°C</div>
            </div>
            <div id="comparison" style="font-size: 12px; margin-top: 10px; padding: 8px; background: #fff3e0; border-radius: 4px;"></div>
        </div>

        <h3>Top Comfortable Areas</h3>
        <div id="top-areas" style="font-size: 11px; max-height: 120px; overflow-y: auto;"></div>

        <h3 style="color: #c62828;">Least Comfortable Areas</h3>
        <div id="worst-areas" style="font-size: 11px; max-height: 120px; overflow-y: auto;"></div>
    </div>

    <script>
        var map = L.map('map').setView([25.2405, 55.3045], 15);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; OpenStreetMap'
        }).addTo(map);

        var segments = [{"lat": 25.252866, "lon": 55.30594, "pci_mean": 0.667, "lst_mean": 47.7, "gvi_mean": 0.1915, "shade_mean": 0.817, "point_count": 37, "rank": 1}, {"lat": 25.251798, "lon": 55.30522, "pci_mean": 0.662, "lst_mean": 48.4, "gvi_mean": 0.238, "shade_mean": 0.858, "point_count": 3, "rank": 2}, {"lat": 25.252703, "lon": 55.305782, "pci_mean": 0.649, "lst_mean": 47.6, "gvi_mean": 0.2331, "shade_mean": 0.695, "point_count": 4, "rank": 3}, {"lat": 25.252046, "lon": 55.30539, "pci_mean": 0.637, "lst_mean": 48.1, "gvi_mean": 0.2203, "shade_mean": 0.756, "point_count": 10, "rank": 4}, {"lat": 25.249527, "lon": 55.300999, "pci_mean": 0.635, "lst_mean": 46.9, "gvi_mean": 0.0726, "shade_mean": 0.701, "point_count": 110, "rank": 5}, {"lat": 25.240518, "lon": 55.296952, "pci_mean": 0.634, "lst_mean": 47.1, "gvi_mean": 0.0078, "shade_mean": 0.822, "point_count": 16, "rank": 6}, {"lat": 25.242639, "lon": 55.305795, "pci_mean": 0.62, "lst_mean": 48.0, "gvi_mean": 0.1821, "shade_mean": 0.742, "point_count": 5, "rank": 7}, {"lat": 25.249856, "lon": 55.301194, "pci_mean": 0.62, "lst_mean": 47.1, "gvi_mean": 0.0202, "shade_mean": 0.756, "point_count": 10, "rank": 8}, {"lat": 25.252446, "lon": 55.305603, "pci_mean": 0.619, "lst_mean": 47.7, "gvi_mean": 0.189, "shade_mean": 0.676, "point_count": 10, "rank": 9}, {"lat": 25.240457, "lon": 55.295957, "pci_mean": 0.598, "lst_mean": 47.2, "gvi_mean": 0.0065, "shade_mean": 0.659, "point_count": 8, "rank": 10}, {"lat": 25.250065, "lon": 55.301387, "pci_mean": 0.597, "lst_mean": 47.6, "gvi_mean": 0.0154, "shade_mean": 0.783, "point_count": 12, "rank": 11}, {"lat": 25.251149, "lon": 55.304815, "pci_mean": 0.594, "lst_mean": 48.7, "gvi_mean": 0.1727, "shade_mean": 0.8, "point_count": 11, "rank": 12}, {"lat": 25.252489, "lon": 55.306982, "pci_mean": 0.59, "lst_mean": 48.6, "gvi_mean": 0.1077, "shade_mean": 0.831, "point_count": 13, "rank": 13}, {"lat": 25.239937, "lon": 55.295874, "pci_mean": 0.59, "lst_mean": 47.3, "gvi_mean": 0.0161, "shade_mean": 0.728, "point_count": 14, "rank": 14}, {"lat": 25.251448, "lon": 55.30502, "pci_mean": 0.586, "lst_mean": 48.6, "gvi_mean": 0.0915, "shade_mean": 0.834, "point_count": 40, "rank": 15}, {"lat": 25.240464, "lon": 55.297503, "pci_mean": 0.585, "lst_mean": 48.1, "gvi_mean": 0.0061, "shade_mean": 0.919, "point_count": 7, "rank": 16}, {"lat": 25.243039, "lon": 55.305913, "pci_mean": 0.582, "lst_mean": 48.0, "gvi_mean": 0.1019, "shade_mean": 0.708, "point_count": 12, "rank": 17}, {"lat": 25.252677, "lon": 55.306607, "pci_mean": 0.578, "lst_mean": 48.5, "gvi_mean": 0.1451, "shade_mean": 0.748, "point_count": 5, "rank": 18}, {"lat": 25.242498, "lon": 55.304875, "pci_mean": 0.57, "lst_mean": 49.7, "gvi_mean": 0.3224, "shade_mean": 0.724, "point_count": 15, "rank": 19}, {"lat": 25.246312, "lon": 55.301308, "pci_mean": 0.568, "lst_mean": 48.5, "gvi_mean": 0.0038, "shade_mean": 0.871, "point_count": 6, "rank": 20}, {"lat": 25.241465, "lon": 55.299029, "pci_mean": 0.568, "lst_mean": 48.6, "gvi_mean": 0.0025, "shade_mean": 0.908, "point_count": 8, "rank": 21}, {"lat": 25.239983, "lon": 55.296948, "pci_mean": 0.566, "lst_mean": 47.0, "gvi_mean": 0.0025, "shade_mean": 0.605, "point_count": 10, "rank": 22}, {"lat": 25.240293, "lon": 55.297803, "pci_mean": 0.564, "lst_mean": 48.7, "gvi_mean": 0.0023, "shade_mean": 0.893, "point_count": 3, "rank": 23}, {"lat": 25.25283, "lon": 55.306377, "pci_mean": 0.561, "lst_mean": 48.2, "gvi_mean": 0.0675, "shade_mean": 0.837, "point_count": 3, "rank": 24}, {"lat": 25.251202, "lon": 55.302295, "pci_mean": 0.561, "lst_mean": 48.4, "gvi_mean": 0.0018, "shade_mean": 0.839, "point_count": 3, "rank": 25}, {"lat": 25.240092, "lon": 55.298053, "pci_mean": 0.56, "lst_mean": 49.0, "gvi_mean": 0.0048, "shade_mean": 0.907, "point_count": 10, "rank": 26}, {"lat": 25.242108, "lon": 55.300024, "pci_mean": 0.56, "lst_mean": 49.2, "gvi_mean": 0.0054, "shade_mean": 0.936, "point_count": 9, "rank": 27}, {"lat": 25.246435, "lon": 55.300996, "pci_mean": 0.557, "lst_mean": 48.6, "gvi_mean": 0.0322, "shade_mean": 0.819, "point_count": 42, "rank": 28}, {"lat": 25.243961, "lon": 55.297995, "pci_mean": 0.554, "lst_mean": 48.7, "gvi_mean": 0.0045, "shade_mean": 0.879, "point_count": 13, "rank": 29}, {"lat": 25.246079, "lon": 55.30153, "pci_mean": 0.551, "lst_mean": 48.5, "gvi_mean": 0.0201, "shade_mean": 0.816, "point_count": 33, "rank": 30}, {"lat": 25.244434, "lon": 55.298158, "pci_mean": 0.548, "lst_mean": 48.9, "gvi_mean": 0.0154, "shade_mean": 0.866, "point_count": 7, "rank": 31}, {"lat": 25.244609, "lon": 55.298361, "pci_mean": 0.546, "lst_mean": 49.0, "gvi_mean": 0.0081, "shade_mean": 0.893, "point_count": 7, "rank": 32}, {"lat": 25.252086, "lon": 55.302849, "pci_mean": 0.545, "lst_mean": 48.4, "gvi_mean": 0.0078, "shade_mean": 0.787, "point_count": 5, "rank": 33}, {"lat": 25.250915, "lon": 55.304638, "pci_mean": 0.544, "lst_mean": 49.7, "gvi_mean": 0.199, "shade_mean": 0.786, "point_count": 23, "rank": 34}, {"lat": 25.242303, "lon": 55.299574, "pci_mean": 0.541, "lst_mean": 49.0, "gvi_mean": 0.0011, "shade_mean": 0.903, "point_count": 9, "rank": 35}, {"lat": 25.251395, "lon": 55.30549, "pci_mean": 0.541, "lst_mean": 49.3, "gvi_mean": 0.1035, "shade_mean": 0.816, "point_count": 17, "rank": 36}, {"lat": 25.239574, "lon": 55.296966, "pci_mean": 0.541, "lst_mean": 47.5, "gvi_mean": 0.0017, "shade_mean": 0.626, "point_count": 36, "rank": 37}, {"lat": 25.242363, "lon": 55.305709, "pci_mean": 0.54, "lst_mean": 48.8, "gvi_mean": 0.1309, "shade_mean": 0.697, "point_count": 6, "rank": 38}, {"lat": 25.239861, "lon": 55.298477, "pci_mean": 0.54, "lst_mean": 49.4, "gvi_mean": 0.0086, "shade_mean": 0.919, "point_count": 8, "rank": 39}, {"lat": 25.241121, "lon": 55.302057, "pci_mean": 0.539, "lst_mean": 49.0, "gvi_mean": 0.0006, "shade_mean": 0.917, "point_count": 5, "rank": 40}, {"lat": 25.241115, "lon": 55.298841, "pci_mean": 0.538, "lst_mean": 48.8, "gvi_mean": 0.0052, "shade_mean": 0.836, "point_count": 7, "rank": 41}, {"lat": 25.242036, "lon": 55.299395, "pci_mean": 0.536, "lst_mean": 48.9, "gvi_mean": 0.0055, "shade_mean": 0.872, "point_count": 5, "rank": 42}, {"lat": 25.241688, "lon": 55.299291, "pci_mean": 0.536, "lst_mean": 48.5, "gvi_mean": 0.0014, "shade_mean": 0.772, "point_count": 3, "rank": 43}, {"lat": 25.252016, "lon": 55.302476, "pci_mean": 0.536, "lst_mean": 48.5, "gvi_mean": 0.0174, "shade_mean": 0.759, "point_count": 111, "rank": 44}, {"lat": 25.239327, "lon": 55.299531, "pci_mean": 0.535, "lst_mean": 49.0, "gvi_mean": 0.0074, "shade_mean": 0.867, "point_count": 21, "rank": 45}, {"lat": 25.243506, "lon": 55.306064, "pci_mean": 0.535, "lst_mean": 48.4, "gvi_mean": 0.0373, "shade_mean": 0.715, "point_count": 14, "rank": 46}, {"lat": 25.24152, "lon": 55.302504, "pci_mean": 0.534, "lst_mean": 49.5, "gvi_mean": 0.002, "shade_mean": 0.907, "point_count": 8, "rank": 47}, {"lat": 25.248427, "lon": 55.303149, "pci_mean": 0.532, "lst_mean": 49.0, "gvi_mean": 0.0705, "shade_mean": 0.783, "point_count": 14, "rank": 48}, {"lat": 25.24518, "lon": 55.309597, "pci_mean": 0.53, "lst_mean": 49.3, "gvi_mean": 0.1824, "shade_mean": 0.696, "point_count": 7, "rank": 49}, {"lat": 25.241069, "lon": 55.296356, "pci_mean": 0.53, "lst_mean": 47.7, "gvi_mean": 0.0029, "shade_mean": 0.654, "point_count": 5, "rank": 50}, {"lat": 25.246432, "lon": 55.302602, "pci_mean": 0.529, "lst_mean": 49.2, "gvi_mean": 0.0074, "shade_mean": 0.86, "point_count": 5, "rank": 51}, {"lat": 25.247488, "lon": 55.308408, "pci_mean": 0.529, "lst_mean": 49.5, "gvi_mean": 0.1985, "shade_mean": 0.724, "point_count": 50, "rank": 52}, {"lat": 25.246473, "lon": 55.306394, "pci_mean": 0.529, "lst_mean": 49.2, "gvi_mean": 0.0031, "shade_mean": 0.879, "point_count": 6, "rank": 53}, {"lat": 25.240947, "lon": 55.296142, "pci_mean": 0.528, "lst_mean": 47.9, "gvi_mean": 0.0031, "shade_mean": 0.602, "point_count": 8, "rank": 54}, {"lat": 25.246109, "lon": 55.303025, "pci_mean": 0.528, "lst_mean": 49.8, "gvi_mean": 0.0049, "shade_mean": 0.928, "point_count": 8, "rank": 55}, {"lat": 25.243859, "lon": 55.306179, "pci_mean": 0.527, "lst_mean": 48.9, "gvi_mean": 0.0021, "shade_mean": 0.821, "point_count": 14, "rank": 56}, {"lat": 25.245985, "lon": 55.301934, "pci_mean": 0.526, "lst_mean": 48.7, "gvi_mean": 0.0247, "shade_mean": 0.758, "point_count": 58, "rank": 57}, {"lat": 25.249988, "lon": 55.309103, "pci_mean": 0.526, "lst_mean": 49.5, "gvi_mean": 0.1814, "shade_mean": 0.728, "point_count": 39, "rank": 58}, {"lat": 25.247115, "lon": 55.307301, "pci_mean": 0.526, "lst_mean": 49.7, "gvi_mean": 0.0018, "shade_mean": 0.949, "point_count": 5, "rank": 59}, {"lat": 25.252427, "lon": 55.302664, "pci_mean": 0.526, "lst_mean": 48.8, "gvi_mean": 0.0384, "shade_mean": 0.761, "point_count": 18, "rank": 60}, {"lat": 25.246526, "lon": 55.302963, "pci_mean": 0.526, "lst_mean": 49.8, "gvi_mean": 0.0258, "shade_mean": 0.929, "point_count": 12, "rank": 61}, {"lat": 25.245171, "lon": 55.310838, "pci_mean": 0.525, "lst_mean": 49.1, "gvi_mean": 0.0021, "shade_mean": 0.887, "point_count": 12, "rank": 62}, {"lat": 25.244169, "lon": 55.308963, "pci_mean": 0.525, "lst_mean": 49.8, "gvi_mean": 0.2513, "shade_mean": 0.695, "point_count": 3, "rank": 63}, {"lat": 25.251634, "lon": 55.302355, "pci_mean": 0.525, "lst_mean": 48.4, "gvi_mean": 0.0075, "shade_mean": 0.729, "point_count": 26, "rank": 64}, {"lat": 25.239959, "lon": 55.29562, "pci_mean": 0.524, "lst_mean": 48.0, "gvi_mean": 0.0093, "shade_mean": 0.601, "point_count": 12, "rank": 65}, {"lat": 25.247963, "lon": 55.302936, "pci_mean": 0.524, "lst_mean": 49.4, "gvi_mean": 0.0984, "shade_mean": 0.801, "point_count": 41, "rank": 66}, {"lat": 25.246481, "lon": 55.302058, "pci_mean": 0.523, "lst_mean": 48.8, "gvi_mean": 0.0028, "shade_mean": 0.783, "point_count": 42, "rank": 67}, {"lat": 25.243609, "lon": 55.297832, "pci_mean": 0.522, "lst_mean": 48.9, "gvi_mean": 0.0027, "shade_mean": 0.851, "point_count": 6, "rank": 68}, {"lat": 25.24751, "lon": 55.312909, "pci_mean": 0.522, "lst_mean": 49.5, "gvi_mean": 0.0294, "shade_mean": 0.899, "point_count": 12, "rank": 69}, {"lat": 25.241616, "lon": 55.302095, "pci_mean": 0.52, "lst_mean": 49.5, "gvi_mean": 0.0051, "shade_mean": 0.931, "point_count": 5, "rank": 70}, {"lat": 25.246816, "lon": 55.302217, "pci_mean": 0.52, "lst_mean": 48.9, "gvi_mean": 0.001, "shade_mean": 0.808, "point_count": 5, "rank": 71}, {"lat": 25.253685, "lon": 55.303785, "pci_mean": 0.52, "lst_mean": 48.7, "gvi_mean": 0.0006, "shade_mean": 0.77, "point_count": 3, "rank": 72}, {"lat": 25.25048, "lon": 55.301569, "pci_mean": 0.52, "lst_mean": 48.7, "gvi_mean": 0.0132, "shade_mean": 0.757, "point_count": 22, "rank": 73}, {"lat": 25.249486, "lon": 55.309014, "pci_mean": 0.518, "lst_mean": 49.5, "gvi_mean": 0.2006, "shade_mean": 0.689, "point_count": 39, "rank": 74}, {"lat": 25.241815, "lon": 55.301924, "pci_mean": 0.517, "lst_mean": 49.7, "gvi_mean": 0.0233, "shade_mean": 0.901, "point_count": 7, "rank": 75}, {"lat": 25.245462, "lon": 55.311066, "pci_mean": 0.514, "lst_mean": 49.2, "gvi_mean": 0.0029, "shade_mean": 0.85, "point_count": 14, "rank": 76}, {"lat": 25.245989, "lon": 55.310084, "pci_mean": 0.513, "lst_mean": 49.4, "gvi_mean": 0.0055, "shade_mean": 0.868, "point_count": 13, "rank": 77}, {"lat": 25.253006, "lon": 55.303394, "pci_mean": 0.513, "lst_mean": 49.1, "gvi_mean": 0.0035, "shade_mean": 0.823, "point_count": 7, "rank": 78}, {"lat": 25.251436, "lon": 55.302121, "pci_mean": 0.512, "lst_mean": 48.6, "gvi_mean": 0.028, "shade_mean": 0.697, "point_count": 21, "rank": 79}, {"lat": 25.240883, "lon": 55.302536, "pci_mean": 0.511, "lst_mean": 49.2, "gvi_mean": 0.0009, "shade_mean": 0.85, "point_count": 7, "rank": 80}, {"lat": 25.245435, "lon": 55.309942, "pci_mean": 0.51, "lst_mean": 49.2, "gvi_mean": 0.0437, "shade_mean": 0.786, "point_count": 18, "rank": 81}, {"lat": 25.246004, "lon": 55.311457, "pci_mean": 0.51, "lst_mean": 49.4, "gvi_mean": 0.0215, "shade_mean": 0.861, "point_count": 28, "rank": 82}, {"lat": 25.244951, "lon": 55.310612, "pci_mean": 0.51, "lst_mean": 49.4, "gvi_mean": 0.009, "shade_mean": 0.881, "point_count": 37, "rank": 83}, {"lat": 25.248467, "lon": 55.312421, "pci_mean": 0.51, "lst_mean": 49.8, "gvi_mean": 0.0076, "shade_mean": 0.928, "point_count": 9, "rank": 84}, {"lat": 25.247028, "lon": 55.312477, "pci_mean": 0.51, "lst_mean": 49.9, "gvi_mean": 0.0771, "shade_mean": 0.854, "point_count": 14, "rank": 85}, {"lat": 25.24908, "lon": 55.300824, "pci_mean": 0.509, "lst_mean": 48.3, "gvi_mean": 0.0275, "shade_mean": 0.717, "point_count": 6, "rank": 86}, {"lat": 25.245694, "lon": 55.311323, "pci_mean": 0.508, "lst_mean": 49.3, "gvi_mean": 0.0133, "shade_mean": 0.882, "point_count": 4, "rank": 87}, {"lat": 25.248683, "lon": 55.303295, "pci_mean": 0.507, "lst_mean": 49.7, "gvi_mean": 0.0766, "shade_mean": 0.823, "point_count": 6, "rank": 88}, {"lat": 25.241395, "lon": 55.301476, "pci_mean": 0.507, "lst_mean": 49.2, "gvi_mean": 0.0006, "shade_mean": 0.834, "point_count": 7, "rank": 89}, {"lat": 25.252605, "lon": 55.302882, "pci_mean": 0.507, "lst_mean": 49.0, "gvi_mean": 0.0316, "shade_mean": 0.761, "point_count": 19, "rank": 90}, {"lat": 25.246864, "lon": 55.308164, "pci_mean": 0.506, "lst_mean": 50.1, "gvi_mean": 0.1459, "shade_mean": 0.806, "point_count": 139, "rank": 91}, {"lat": 25.241901, "lon": 55.300453, "pci_mean": 0.505, "lst_mean": 49.3, "gvi_mean": 0.0007, "shade_mean": 0.887, "point_count": 7, "rank": 92}, {"lat": 25.2457, "lon": 55.302075, "pci_mean": 0.503, "lst_mean": 48.5, "gvi_mean": 0.008, "shade_mean": 0.684, "point_count": 5, "rank": 93}, {"lat": 25.249012, "lon": 55.30348, "pci_mean": 0.501, "lst_mean": 49.8, "gvi_mean": 0.0918, "shade_mean": 0.804, "point_count": 20, "rank": 94}, {"lat": 25.251013, "lon": 55.301987, "pci_mean": 0.501, "lst_mean": 48.9, "gvi_mean": 0.0091, "shade_mean": 0.748, "point_count": 28, "rank": 95}, {"lat": 25.24594, "lon": 55.302492, "pci_mean": 0.498, "lst_mean": 49.1, "gvi_mean": 0.0038, "shade_mean": 0.791, "point_count": 12, "rank": 96}, {"lat": 25.240917, "lon": 55.298648, "pci_mean": 0.498, "lst_mean": 49.1, "gvi_mean": 0.0142, "shade_mean": 0.764, "point_count": 17, "rank": 97}, {"lat": 25.246525, "lon": 55.311997, "pci_mean": 0.497, "lst_mean": 50.2, "gvi_mean": 0.0887, "shade_mean": 0.883, "point_count": 12, "rank": 98}, {"lat": 25.248059, "lon": 55.303511, "pci_mean": 0.497, "lst_mean": 49.9, "gvi_mean": 0.0103, "shade_mean": 0.9, "point_count": 9, "rank": 99}, {"lat": 25.244124, "lon": 55.306299, "pci_mean": 0.497, "lst_mean": 49.5, "gvi_mean": 0.0024, "shade_mean": 0.841, "point_count": 8, "rank": 100}, {"lat": 25.245555, "lon": 55.303037, "pci_mean": 0.496, "lst_mean": 49.6, "gvi_mean": 0.0235, "shade_mean": 0.822, "point_count": 72, "rank": 101}, {"lat": 25.239595, "lon": 55.299, "pci_mean": 0.496, "lst_mean": 49.7, "gvi_mean": 0.0031, "shade_mean": 0.889, "point_count": 8, "rank": 102}, {"lat": 25.247042, "lon": 55.302376, "pci_mean": 0.495, "lst_mean": 49.0, "gvi_mean": 0.0039, "shade_mean": 0.774, "point_count": 21, "rank": 103}, {"lat": 25.23691, "lon": 55.30251, "pci_mean": 0.493, "lst_mean": 49.8, "gvi_mean": 0.0157, "shade_mean": 0.853, "point_count": 14, "rank": 104}, {"lat": 25.241487, "lon": 55.296554, "pci_mean": 0.493, "lst_mean": 48.4, "gvi_mean": 0.0072, "shade_mean": 0.634, "point_count": 12, "rank": 105}, {"lat": 25.250535, "lon": 55.301881, "pci_mean": 0.493, "lst_mean": 49.0, "gvi_mean": 0.0046, "shade_mean": 0.744, "point_count": 4, "rank": 106}, {"lat": 25.247056, "lon": 55.308312, "pci_mean": 0.492, "lst_mean": 49.9, "gvi_mean": 0.1443, "shade_mean": 0.734, "point_count": 30, "rank": 107}, {"lat": 25.247438, "lon": 55.30349, "pci_mean": 0.491, "lst_mean": 50.1, "gvi_mean": 0.0019, "shade_mean": 0.919, "point_count": 10, "rank": 108}, {"lat": 25.236662, "lon": 55.303097, "pci_mean": 0.49, "lst_mean": 49.8, "gvi_mean": 0.0011, "shade_mean": 0.896, "point_count": 4, "rank": 109}, {"lat": 25.239585, "lon": 55.296077, "pci_mean": 0.49, "lst_mean": 47.9, "gvi_mean": 0.0144, "shade_mean": 0.523, "point_count": 33, "rank": 110}, {"lat": 25.247103, "lon": 55.30658, "pci_mean": 0.49, "lst_mean": 49.3, "gvi_mean": 0.0381, "shade_mean": 0.824, "point_count": 37, "rank": 111}, {"lat": 25.245636, "lon": 55.302561, "pci_mean": 0.489, "lst_mean": 49.2, "gvi_mean": 0.0079, "shade_mean": 0.768, "point_count": 26, "rank": 112}, {"lat": 25.246063, "lon": 55.311115, "pci_mean": 0.489, "lst_mean": 49.8, "gvi_mean": 0.0027, "shade_mean": 0.906, "point_count": 5, "rank": 113}, {"lat": 25.246577, "lon": 55.300498, "pci_mean": 0.489, "lst_mean": 49.0, "gvi_mean": 0.0096, "shade_mean": 0.731, "point_count": 45, "rank": 114}, {"lat": 25.246137, "lon": 55.301051, "pci_mean": 0.489, "lst_mean": 48.6, "gvi_mean": 0.0187, "shade_mean": 0.639, "point_count": 13, "rank": 115}, {"lat": 25.249504, "lon": 55.31151, "pci_mean": 0.488, "lst_mean": 50.1, "gvi_mean": 0.0262, "shade_mean": 0.928, "point_count": 8, "rank": 116}, {"lat": 25.247994, "lon": 55.308567, "pci_mean": 0.487, "lst_mean": 49.7, "gvi_mean": 0.1342, "shade_mean": 0.701, "point_count": 50, "rank": 117}, {"lat": 25.236367, "lon": 55.303525, "pci_mean": 0.487, "lst_mean": 50.2, "gvi_mean": 0.0014, "shade_mean": 0.928, "point_count": 14, "rank": 118}, {"lat": 25.250016, "lon": 55.310452, "pci_mean": 0.484, "lst_mean": 50.4, "gvi_mean": 0.0101, "shade_mean": 0.804, "point_count": 3, "rank": 119}, {"lat": 25.24263, "lon": 55.300064, "pci_mean": 0.484, "lst_mean": 49.7, "gvi_mean": 0.0008, "shade_mean": 0.856, "point_count": 10, "rank": 120}, {"lat": 25.24603, "lon": 55.306296, "pci_mean": 0.483, "lst_mean": 49.4, "gvi_mean": 0.0006, "shade_mean": 0.755, "point_count": 4, "rank": 121}, {"lat": 25.245413, "lon": 55.306539, "pci_mean": 0.482, "lst_mean": 50.0, "gvi_mean": 0.0011, "shade_mean": 0.915, "point_count": 5, "rank": 122}, {"lat": 25.242562, "lon": 55.300499, "pci_mean": 0.481, "lst_mean": 50.2, "gvi_mean": 0.0124, "shade_mean": 0.911, "point_count": 18, "rank": 123}, {"lat": 25.24651, "lon": 55.307101, "pci_mean": 0.481, "lst_mean": 49.5, "gvi_mean": 0.003, "shade_mean": 0.83, "point_count": 5, "rank": 124}, {"lat": 25.239638, "lon": 55.29994, "pci_mean": 0.481, "lst_mean": 49.1, "gvi_mean": 0.0068, "shade_mean": 0.787, "point_count": 16, "rank": 125}, {"lat": 25.247448, "lon": 55.307399, "pci_mean": 0.48, "lst_mean": 50.0, "gvi_mean": 0.0053, "shade_mean": 0.87, "point_count": 11, "rank": 126}, {"lat": 25.252986, "lon": 55.303027, "pci_mean": 0.479, "lst_mean": 49.5, "gvi_mean": 0.0378, "shade_mean": 0.743, "point_count": 27, "rank": 127}, {"lat": 25.245059, "lon": 55.309936, "pci_mean": 0.478, "lst_mean": 49.4, "gvi_mean": 0.0598, "shade_mean": 0.711, "point_count": 10, "rank": 128}, {"lat": 25.247548, "lon": 55.302932, "pci_mean": 0.477, "lst_mean": 49.8, "gvi_mean": 0.0457, "shade_mean": 0.796, "point_count": 6, "rank": 129}, {"lat": 25.251079, "lon": 55.307967, "pci_mean": 0.477, "lst_mean": 49.7, "gvi_mean": 0.0021, "shade_mean": 0.782, "point_count": 8, "rank": 130}, {"lat": 25.236467, "lon": 55.303865, "pci_mean": 0.476, "lst_mean": 50.1, "gvi_mean": 0.0034, "shade_mean": 0.897, "point_count": 22, "rank": 131}, {"lat": 25.248039, "lon": 55.300352, "pci_mean": 0.475, "lst_mean": 49.8, "gvi_mean": 0.0104, "shade_mean": 0.853, "point_count": 4, "rank": 132}, {"lat": 25.25416, "lon": 55.305604, "pci_mean": 0.474, "lst_mean": 49.3, "gvi_mean": 0.0055, "shade_mean": 0.754, "point_count": 17, "rank": 133}, {"lat": 25.248975, "lon": 55.311953, "pci_mean": 0.474, "lst_mean": 50.1, "gvi_mean": 0.0225, "shade_mean": 0.833, "point_count": 7, "rank": 134}, {"lat": 25.246392, "lon": 55.310194, "pci_mean": 0.474, "lst_mean": 50.0, "gvi_mean": 0.0074, "shade_mean": 0.846, "point_count": 8, "rank": 135}, {"lat": 25.249523, "lon": 55.31034, "pci_mean": 0.473, "lst_mean": 49.8, "gvi_mean": 0.0478, "shade_mean": 0.767, "point_count": 8, "rank": 136}, {"lat": 25.247478, "lon": 55.302614, "pci_mean": 0.473, "lst_mean": 49.5, "gvi_mean": 0.0055, "shade_mean": 0.78, "point_count": 23, "rank": 137}, {"lat": 25.244347, "lon": 55.310052, "pci_mean": 0.472, "lst_mean": 50.0, "gvi_mean": 0.1118, "shade_mean": 0.731, "point_count": 3, "rank": 138}, {"lat": 25.245028, "lon": 55.298551, "pci_mean": 0.472, "lst_mean": 49.6, "gvi_mean": 0.0144, "shade_mean": 0.777, "point_count": 19, "rank": 139}, {"lat": 25.248918, "lon": 55.300646, "pci_mean": 0.469, "lst_mean": 48.7, "gvi_mean": 0.0405, "shade_mean": 0.614, "point_count": 9, "rank": 140}, {"lat": 25.24296, "lon": 55.299965, "pci_mean": 0.469, "lst_mean": 49.8, "gvi_mean": 0.0019, "shade_mean": 0.797, "point_count": 17, "rank": 141}, {"lat": 25.248166, "lon": 55.31266, "pci_mean": 0.468, "lst_mean": 50.2, "gvi_mean": 0.0062, "shade_mean": 0.91, "point_count": 4, "rank": 142}, {"lat": 25.251286, "lon": 55.305856, "pci_mean": 0.468, "lst_mean": 49.9, "gvi_mean": 0.0272, "shade_mean": 0.789, "point_count": 8, "rank": 143}, {"lat": 25.252427, "lon": 55.307551, "pci_mean": 0.467, "lst_mean": 49.0, "gvi_mean": 0.0114, "shade_mean": 0.671, "point_count": 19, "rank": 144}, {"lat": 25.247093, "lon": 55.303449, "pci_mean": 0.467, "lst_mean": 50.2, "gvi_mean": 0.0013, "shade_mean": 0.912, "point_count": 6, "rank": 145}, {"lat": 25.250461, "lon": 55.309156, "pci_mean": 0.467, "lst_mean": 50.1, "gvi_mean": 0.1748, "shade_mean": 0.665, "point_count": 16, "rank": 146}, {"lat": 25.254349, "lon": 55.305418, "pci_mean": 0.466, "lst_mean": 49.4, "gvi_mean": 0.0026, "shade_mean": 0.777, "point_count": 14, "rank": 147}, {"lat": 25.242023, "lon": 55.296908, "pci_mean": 0.466, "lst_mean": 49.0, "gvi_mean": 0.0076, "shade_mean": 0.652, "point_count": 18, "rank": 148}, {"lat": 25.243646, "lon": 55.300292, "pci_mean": 0.465, "lst_mean": 50.0, "gvi_mean": 0.0009, "shade_mean": 0.806, "point_count": 3, "rank": 149}, {"lat": 25.253523, "lon": 55.303441, "pci_mean": 0.465, "lst_mean": 49.4, "gvi_mean": 0.0177, "shade_mean": 0.725, "point_count": 25, "rank": 150}, {"lat": 25.250083, "lon": 55.309306, "pci_mean": 0.464, "lst_mean": 49.6, "gvi_mean": 0.078, "shade_mean": 0.675, "point_count": 11, "rank": 151}, {"lat": 25.245581, "lon": 55.30682, "pci_mean": 0.464, "lst_mean": 50.1, "gvi_mean": 0.0015, "shade_mean": 0.915, "point_count": 4, "rank": 152}, {"lat": 25.243983, "lon": 55.3095, "pci_mean": 0.463, "lst_mean": 49.7, "gvi_mean": 0.1135, "shade_mean": 0.647, "point_count": 3, "rank": 153}, {"lat": 25.245976, "lon": 55.303597, "pci_mean": 0.461, "lst_mean": 50.3, "gvi_mean": 0.0073, "shade_mean": 0.871, "point_count": 30, "rank": 154}, {"lat": 25.244976, "lon": 55.306057, "pci_mean": 0.46, "lst_mean": 49.9, "gvi_mean": 0.0143, "shade_mean": 0.803, "point_count": 14, "rank": 155}, {"lat": 25.24467, "lon": 55.310436, "pci_mean": 0.46, "lst_mean": 49.6, "gvi_mean": 0.0358, "shade_mean": 0.717, "point_count": 7, "rank": 156}, {"lat": 25.254009, "lon": 55.306009, "pci_mean": 0.459, "lst_mean": 49.5, "gvi_mean": 0.0075, "shade_mean": 0.753, "point_count": 26, "rank": 157}, {"lat": 25.251211, "lon": 55.306108, "pci_mean": 0.458, "lst_mean": 49.7, "gvi_mean": 0.0113, "shade_mean": 0.759, "point_count": 9, "rank": 158}, {"lat": 25.235175, "lon": 55.304471, "pci_mean": 0.458, "lst_mean": 50.3, "gvi_mean": 0.0091, "shade_mean": 0.868, "point_count": 31, "rank": 159}, {"lat": 25.247436, "lon": 55.306692, "pci_mean": 0.457, "lst_mean": 49.8, "gvi_mean": 0.061, "shade_mean": 0.707, "point_count": 14, "rank": 160}, {"lat": 25.243397, "lon": 55.300151, "pci_mean": 0.456, "lst_mean": 49.8, "gvi_mean": 0.0018, "shade_mean": 0.782, "point_count": 10, "rank": 161}, {"lat": 25.240494, "lon": 55.302693, "pci_mean": 0.456, "lst_mean": 49.7, "gvi_mean": 0.003, "shade_mean": 0.775, "point_count": 8, "rank": 162}, {"lat": 25.250059, "lon": 55.31209, "pci_mean": 0.454, "lst_mean": 49.6, "gvi_mean": 0.0068, "shade_mean": 0.728, "point_count": 46, "rank": 163}, {"lat": 25.240038, "lon": 55.302539, "pci_mean": 0.453, "lst_mean": 50.4, "gvi_mean": 0.006, "shade_mean": 0.879, "point_count": 16, "rank": 164}, {"lat": 25.249331, "lon": 55.310213, "pci_mean": 0.452, "lst_mean": 49.8, "gvi_mean": 0.0054, "shade_mean": 0.762, "point_count": 3, "rank": 165}, {"lat": 25.247879, "lon": 55.304039, "pci_mean": 0.452, "lst_mean": 50.1, "gvi_mean": 0.0092, "shade_mean": 0.815, "point_count": 16, "rank": 166}, {"lat": 25.2479, "lon": 55.312897, "pci_mean": 0.45, "lst_mean": 50.2, "gvi_mean": 0.0233, "shade_mean": 0.832, "point_count": 8, "rank": 167}, {"lat": 25.239417, "lon": 55.296384, "pci_mean": 0.45, "lst_mean": 47.9, "gvi_mean": 0.0044, "shade_mean": 0.422, "point_count": 148, "rank": 168}, {"lat": 25.241594, "lon": 55.301007, "pci_mean": 0.449, "lst_mean": 49.3, "gvi_mean": 0.0014, "shade_mean": 0.695, "point_count": 11, "rank": 169}, {"lat": 25.238796, "lon": 55.297799, "pci_mean": 0.449, "lst_mean": 49.6, "gvi_mean": 0.0031, "shade_mean": 0.701, "point_count": 4, "rank": 170}, {"lat": 25.250427, "lon": 55.311909, "pci_mean": 0.448, "lst_mean": 49.3, "gvi_mean": 0.0101, "shade_mean": 0.664, "point_count": 32, "rank": 171}, {"lat": 25.239721, "lon": 55.295672, "pci_mean": 0.448, "lst_mean": 48.6, "gvi_mean": 0.0213, "shade_mean": 0.52, "point_count": 3, "rank": 172}, {"lat": 25.246607, "lon": 55.312915, "pci_mean": 0.447, "lst_mean": 49.7, "gvi_mean": 0.0009, "shade_mean": 0.74, "point_count": 6, "rank": 173}, {"lat": 25.243431, "lon": 55.297675, "pci_mean": 0.447, "lst_mean": 49.3, "gvi_mean": 0.003, "shade_mean": 0.734, "point_count": 8, "rank": 174}, {"lat": 25.246446, "lon": 55.31044, "pci_mean": 0.446, "lst_mean": 50.3, "gvi_mean": 0.0102, "shade_mean": 0.857, "point_count": 13, "rank": 175}, {"lat": 25.246859, "lon": 55.299936, "pci_mean": 0.446, "lst_mean": 49.9, "gvi_mean": 0.0104, "shade_mean": 0.769, "point_count": 26, "rank": 176}, {"lat": 25.245347, "lon": 55.309446, "pci_mean": 0.446, "lst_mean": 49.3, "gvi_mean": 0.0246, "shade_mean": 0.638, "point_count": 15, "rank": 177}, {"lat": 25.253641, "lon": 55.306563, "pci_mean": 0.446, "lst_mean": 49.8, "gvi_mean": 0.0031, "shade_mean": 0.729, "point_count": 18, "rank": 178}, {"lat": 25.249621, "lon": 55.303835, "pci_mean": 0.445, "lst_mean": 50.4, "gvi_mean": 0.1199, "shade_mean": 0.724, "point_count": 11, "rank": 179}, {"lat": 25.241857, "lon": 55.296668, "pci_mean": 0.443, "lst_mean": 49.1, "gvi_mean": 0.0119, "shade_mean": 0.608, "point_count": 4, "rank": 180}, {"lat": 25.251418, "lon": 55.310929, "pci_mean": 0.442, "lst_mean": 49.7, "gvi_mean": 0.0222, "shade_mean": 0.691, "point_count": 47, "rank": 181}, {"lat": 25.247586, "lon": 55.304986, "pci_mean": 0.442, "lst_mean": 50.5, "gvi_mean": 0.004, "shade_mean": 0.858, "point_count": 12, "rank": 182}, {"lat": 25.243416, "lon": 55.304389, "pci_mean": 0.442, "lst_mean": 50.0, "gvi_mean": 0.0701, "shade_mean": 0.693, "point_count": 101, "rank": 183}, {"lat": 25.242458, "lon": 55.297094, "pci_mean": 0.44, "lst_mean": 49.5, "gvi_mean": 0.0077, "shade_mean": 0.665, "point_count": 19, "rank": 184}, {"lat": 25.246671, "lon": 55.300012, "pci_mean": 0.439, "lst_mean": 49.6, "gvi_mean": 0.0111, "shade_mean": 0.711, "point_count": 22, "rank": 185}, {"lat": 25.2455, "lon": 55.303522, "pci_mean": 0.439, "lst_mean": 49.9, "gvi_mean": 0.0423, "shade_mean": 0.713, "point_count": 88, "rank": 186}, {"lat": 25.243018, "lon": 55.29744, "pci_mean": 0.438, "lst_mean": 49.5, "gvi_mean": 0.006, "shade_mean": 0.681, "point_count": 31, "rank": 187}, {"lat": 25.240597, "lon": 55.298985, "pci_mean": 0.438, "lst_mean": 49.8, "gvi_mean": 0.0055, "shade_mean": 0.767, "point_count": 7, "rank": 188}, {"lat": 25.244691, "lon": 55.306019, "pci_mean": 0.438, "lst_mean": 49.7, "gvi_mean": 0.016, "shade_mean": 0.697, "point_count": 14, "rank": 189}, {"lat": 25.244831, "lon": 55.30549, "pci_mean": 0.437, "lst_mean": 49.3, "gvi_mean": 0.0097, "shade_mean": 0.624, "point_count": 20, "rank": 190}, {"lat": 25.249867, "lon": 55.312364, "pci_mean": 0.436, "lst_mean": 49.7, "gvi_mean": 0.0125, "shade_mean": 0.68, "point_count": 28, "rank": 191}, {"lat": 25.240346, "lon": 55.299421, "pci_mean": 0.436, "lst_mean": 50.2, "gvi_mean": 0.0046, "shade_mean": 0.787, "point_count": 6, "rank": 192}, {"lat": 25.251126, "lon": 55.311139, "pci_mean": 0.436, "lst_mean": 49.6, "gvi_mean": 0.0143, "shade_mean": 0.684, "point_count": 27, "rank": 193}, {"lat": 25.242339, "lon": 55.300918, "pci_mean": 0.435, "lst_mean": 50.2, "gvi_mean": 0.0033, "shade_mean": 0.757, "point_count": 9, "rank": 194}, {"lat": 25.252696, "lon": 55.308618, "pci_mean": 0.434, "lst_mean": 49.5, "gvi_mean": 0.0184, "shade_mean": 0.644, "point_count": 14, "rank": 195}, {"lat": 25.239903, "lon": 55.300041, "pci_mean": 0.434, "lst_mean": 49.6, "gvi_mean": 0.0039, "shade_mean": 0.684, "point_count": 30, "rank": 196}, {"lat": 25.248465, "lon": 55.308666, "pci_mean": 0.434, "lst_mean": 50.3, "gvi_mean": 0.126, "shade_mean": 0.668, "point_count": 28, "rank": 197}, {"lat": 25.236987, "lon": 55.303962, "pci_mean": 0.433, "lst_mean": 50.1, "gvi_mean": 0.0028, "shade_mean": 0.796, "point_count": 38, "rank": 198}, {"lat": 25.246867, "lon": 55.31316, "pci_mean": 0.432, "lst_mean": 49.7, "gvi_mean": 0.0004, "shade_mean": 0.711, "point_count": 8, "rank": 199}, {"lat": 25.242192, "lon": 55.306771, "pci_mean": 0.431, "lst_mean": 49.9, "gvi_mean": 0.0399, "shade_mean": 0.672, "point_count": 3, "rank": 200}, {"lat": 25.253312, "lon": 55.303226, "pci_mean": 0.431, "lst_mean": 49.9, "gvi_mean": 0.0412, "shade_mean": 0.679, "point_count": 4, "rank": 201}, {"lat": 25.250864, "lon": 55.311405, "pci_mean": 0.431, "lst_mean": 49.7, "gvi_mean": 0.0151, "shade_mean": 0.672, "point_count": 62, "rank": 202}, {"lat": 25.244006, "lon": 55.300478, "pci_mean": 0.431, "lst_mean": 50.2, "gvi_mean": 0.003, "shade_mean": 0.764, "point_count": 14, "rank": 203}, {"lat": 25.246433, "lon": 55.303553, "pci_mean": 0.431, "lst_mean": 50.6, "gvi_mean": 0.0258, "shade_mean": 0.791, "point_count": 20, "rank": 204}, {"lat": 25.245549, "lon": 55.298895, "pci_mean": 0.43, "lst_mean": 49.7, "gvi_mean": 0.018, "shade_mean": 0.667, "point_count": 25, "rank": 205}, {"lat": 25.24754, "lon": 55.299992, "pci_mean": 0.43, "lst_mean": 50.3, "gvi_mean": 0.0232, "shade_mean": 0.762, "point_count": 10, "rank": 206}, {"lat": 25.247204, "lon": 55.306081, "pci_mean": 0.429, "lst_mean": 50.3, "gvi_mean": 0.0324, "shade_mean": 0.755, "point_count": 4, "rank": 207}, {"lat": 25.253522, "lon": 55.306995, "pci_mean": 0.428, "lst_mean": 50.0, "gvi_mean": 0.0539, "shade_mean": 0.671, "point_count": 34, "rank": 208}, {"lat": 25.242019, "lon": 55.301519, "pci_mean": 0.428, "lst_mean": 50.0, "gvi_mean": 0.0426, "shade_mean": 0.664, "point_count": 12, "rank": 209}, {"lat": 25.244356, "lon": 55.300645, "pci_mean": 0.427, "lst_mean": 50.1, "gvi_mean": 0.0038, "shade_mean": 0.75, "point_count": 7, "rank": 210}, {"lat": 25.238993, "lon": 55.302187, "pci_mean": 0.427, "lst_mean": 50.0, "gvi_mean": 0.0034, "shade_mean": 0.739, "point_count": 17, "rank": 211}, {"lat": 25.250494, "lon": 55.304455, "pci_mean": 0.427, "lst_mean": 50.8, "gvi_mean": 0.0982, "shade_mean": 0.759, "point_count": 41, "rank": 212}, {"lat": 25.242643, "lon": 55.297292, "pci_mean": 0.427, "lst_mean": 49.5, "gvi_mean": 0.01, "shade_mean": 0.638, "point_count": 5, "rank": 213}, {"lat": 25.244201, "lon": 55.301111, "pci_mean": 0.426, "lst_mean": 51.2, "gvi_mean": 0.0181, "shade_mean": 0.907, "point_count": 5, "rank": 214}, {"lat": 25.247485, "lon": 55.304093, "pci_mean": 0.426, "lst_mean": 50.2, "gvi_mean": 0.0377, "shade_mean": 0.728, "point_count": 39, "rank": 215}, {"lat": 25.236095, "lon": 55.304762, "pci_mean": 0.426, "lst_mean": 49.3, "gvi_mean": 0.02, "shade_mean": 0.577, "point_count": 14, "rank": 216}, {"lat": 25.241516, "lon": 55.302995, "pci_mean": 0.425, "lst_mean": 50.2, "gvi_mean": 0.0019, "shade_mean": 0.761, "point_count": 18, "rank": 217}, {"lat": 25.252908, "lon": 55.308444, "pci_mean": 0.424, "lst_mean": 49.5, "gvi_mean": 0.0412, "shade_mean": 0.607, "point_count": 34, "rank": 218}, {"lat": 25.250607, "lon": 55.311603, "pci_mean": 0.424, "lst_mean": 49.9, "gvi_mean": 0.0108, "shade_mean": 0.71, "point_count": 38, "rank": 219}, {"lat": 25.239509, "lon": 55.30238, "pci_mean": 0.423, "lst_mean": 50.8, "gvi_mean": 0.0076, "shade_mean": 0.859, "point_count": 14, "rank": 220}, {"lat": 25.242013, "lon": 55.305569, "pci_mean": 0.423, "lst_mean": 50.0, "gvi_mean": 0.0622, "shade_mean": 0.643, "point_count": 9, "rank": 221}, {"lat": 25.24888, "lon": 55.313285, "pci_mean": 0.422, "lst_mean": 50.3, "gvi_mean": 0.0093, "shade_mean": 0.751, "point_count": 134, "rank": 222}, {"lat": 25.247557, "lon": 55.306798, "pci_mean": 0.422, "lst_mean": 50.0, "gvi_mean": 0.0265, "shade_mean": 0.681, "point_count": 16, "rank": 223}, {"lat": 25.237427, "lon": 55.302104, "pci_mean": 0.421, "lst_mean": 50.4, "gvi_mean": 0.0948, "shade_mean": 0.674, "point_count": 39, "rank": 224}, {"lat": 25.248676, "lon": 55.309985, "pci_mean": 0.421, "lst_mean": 50.4, "gvi_mean": 0.0052, "shade_mean": 0.78, "point_count": 13, "rank": 225}, {"lat": 25.251134, "lon": 55.306498, "pci_mean": 0.421, "lst_mean": 50.3, "gvi_mean": 0.0058, "shade_mean": 0.762, "point_count": 17, "rank": 226}, {"lat": 25.247168, "lon": 55.299653, "pci_mean": 0.421, "lst_mean": 50.7, "gvi_mean": 0.0047, "shade_mean": 0.818, "point_count": 109, "rank": 227}, {"lat": 25.247705, "lon": 55.304481, "pci_mean": 0.42, "lst_mean": 50.2, "gvi_mean": 0.007, "shade_mean": 0.74, "point_count": 14, "rank": 228}, {"lat": 25.249374, "lon": 55.30369, "pci_mean": 0.42, "lst_mean": 50.6, "gvi_mean": 0.0786, "shade_mean": 0.726, "point_count": 9, "rank": 229}, {"lat": 25.236465, "lon": 55.304788, "pci_mean": 0.419, "lst_mean": 49.4, "gvi_mean": 0.0154, "shade_mean": 0.592, "point_count": 8, "rank": 230}, {"lat": 25.24738, "lon": 55.313653, "pci_mean": 0.419, "lst_mean": 50.1, "gvi_mean": 0.0034, "shade_mean": 0.739, "point_count": 25, "rank": 231}, {"lat": 25.245463, "lon": 55.30907, "pci_mean": 0.419, "lst_mean": 50.0, "gvi_mean": 0.0703, "shade_mean": 0.62, "point_count": 42, "rank": 232}, {"lat": 25.24499, "lon": 55.306609, "pci_mean": 0.419, "lst_mean": 50.5, "gvi_mean": 0.0074, "shade_mean": 0.876, "point_count": 27, "rank": 233}, {"lat": 25.251024, "lon": 55.30906, "pci_mean": 0.419, "lst_mean": 50.4, "gvi_mean": 0.1183, "shade_mean": 0.72, "point_count": 15, "rank": 234}, {"lat": 25.253132, "lon": 55.307534, "pci_mean": 0.418, "lst_mean": 50.2, "gvi_mean": 0.0034, "shade_mean": 0.738, "point_count": 33, "rank": 235}, {"lat": 25.253863, "lon": 55.30651, "pci_mean": 0.418, "lst_mean": 49.9, "gvi_mean": 0.0041, "shade_mean": 0.688, "point_count": 24, "rank": 236}, {"lat": 25.245463, "lon": 55.298661, "pci_mean": 0.418, "lst_mean": 50.0, "gvi_mean": 0.0146, "shade_mean": 0.684, "point_count": 11, "rank": 237}, {"lat": 25.248982, "lon": 55.308917, "pci_mean": 0.418, "lst_mean": 50.4, "gvi_mean": 0.1025, "shade_mean": 0.662, "point_count": 48, "rank": 238}, {"lat": 25.243174, "lon": 55.303094, "pci_mean": 0.417, "lst_mean": 50.9, "gvi_mean": 0.0921, "shade_mean": 0.877, "point_count": 3, "rank": 239}, {"lat": 25.237098, "lon": 55.301956, "pci_mean": 0.417, "lst_mean": 50.3, "gvi_mean": 0.0549, "shade_mean": 0.691, "point_count": 60, "rank": 240}, {"lat": 25.242911, "lon": 55.306697, "pci_mean": 0.417, "lst_mean": 49.7, "gvi_mean": 0.0121, "shade_mean": 0.641, "point_count": 9, "rank": 241}, {"lat": 25.253949, "lon": 55.303632, "pci_mean": 0.412, "lst_mean": 50.1, "gvi_mean": 0.01, "shade_mean": 0.697, "point_count": 20, "rank": 242}, {"lat": 25.251034, "lon": 55.307, "pci_mean": 0.412, "lst_mean": 50.7, "gvi_mean": 0.0042, "shade_mean": 0.794, "point_count": 16, "rank": 243}, {"lat": 25.242963, "lon": 55.30351, "pci_mean": 0.412, "lst_mean": 50.5, "gvi_mean": 0.0459, "shade_mean": 0.724, "point_count": 41, "rank": 244}, {"lat": 25.249536, "lon": 55.312557, "pci_mean": 0.412, "lst_mean": 50.1, "gvi_mean": 0.0043, "shade_mean": 0.707, "point_count": 57, "rank": 245}, {"lat": 25.242463, "lon": 55.306647, "pci_mean": 0.411, "lst_mean": 49.5, "gvi_mean": 0.0064, "shade_mean": 0.596, "point_count": 31, "rank": 246}, {"lat": 25.248867, "lon": 55.309479, "pci_mean": 0.411, "lst_mean": 50.4, "gvi_mean": 0.0044, "shade_mean": 0.778, "point_count": 9, "rank": 247}, {"lat": 25.245975, "lon": 55.299073, "pci_mean": 0.411, "lst_mean": 49.9, "gvi_mean": 0.0103, "shade_mean": 0.663, "point_count": 37, "rank": 248}, {"lat": 25.239073, "lon": 55.297026, "pci_mean": 0.411, "lst_mean": 48.9, "gvi_mean": 0.0063, "shade_mean": 0.486, "point_count": 45, "rank": 249}, {"lat": 25.246503, "lon": 55.30808, "pci_mean": 0.41, "lst_mean": 50.6, "gvi_mean": 0.1372, "shade_mean": 0.624, "point_count": 190, "rank": 250}, {"lat": 25.247431, "lon": 55.305498, "pci_mean": 0.409, "lst_mean": 50.3, "gvi_mean": 0.0259, "shade_mean": 0.696, "point_count": 13, "rank": 251}, {"lat": 25.242861, "lon": 55.304037, "pci_mean": 0.409, "lst_mean": 50.3, "gvi_mean": 0.0246, "shade_mean": 0.708, "point_count": 32, "rank": 252}, {"lat": 25.247983, "lon": 55.300117, "pci_mean": 0.409, "lst_mean": 50.1, "gvi_mean": 0.035, "shade_mean": 0.652, "point_count": 120, "rank": 253}, {"lat": 25.23717, "lon": 55.303619, "pci_mean": 0.408, "lst_mean": 50.2, "gvi_mean": 0.0007, "shade_mean": 0.716, "point_count": 4, "rank": 254}, {"lat": 25.238839, "lon": 55.302437, "pci_mean": 0.408, "lst_mean": 50.5, "gvi_mean": 0.008, "shade_mean": 0.758, "point_count": 59, "rank": 255}, {"lat": 25.24712, "lon": 55.313424, "pci_mean": 0.408, "lst_mean": 49.9, "gvi_mean": 0.0033, "shade_mean": 0.653, "point_count": 16, "rank": 256}, {"lat": 25.245286, "lon": 55.3044, "pci_mean": 0.407, "lst_mean": 50.2, "gvi_mean": 0.016, "shade_mean": 0.697, "point_count": 12, "rank": 257}, {"lat": 25.24411, "lon": 55.309922, "pci_mean": 0.407, "lst_mean": 49.9, "gvi_mean": 0.0092, "shade_mean": 0.637, "point_count": 3, "rank": 258}, {"lat": 25.254086, "lon": 55.303944, "pci_mean": 0.407, "lst_mean": 50.2, "gvi_mean": 0.0016, "shade_mean": 0.72, "point_count": 16, "rank": 259}, {"lat": 25.253383, "lon": 55.307455, "pci_mean": 0.407, "lst_mean": 50.2, "gvi_mean": 0.1078, "shade_mean": 0.61, "point_count": 24, "rank": 260}, {"lat": 25.248933, "lon": 55.310139, "pci_mean": 0.406, "lst_mean": 50.2, "gvi_mean": 0.0014, "shade_mean": 0.754, "point_count": 5, "rank": 261}, {"lat": 25.249395, "lon": 55.312888, "pci_mean": 0.406, "lst_mean": 49.8, "gvi_mean": 0.0088, "shade_mean": 0.623, "point_count": 17, "rank": 262}, {"lat": 25.251793, "lon": 55.310791, "pci_mean": 0.405, "lst_mean": 49.6, "gvi_mean": 0.0237, "shade_mean": 0.563, "point_count": 3, "rank": 263}, {"lat": 25.245583, "lon": 55.308487, "pci_mean": 0.403, "lst_mean": 50.8, "gvi_mean": 0.1042, "shade_mean": 0.688, "point_count": 22, "rank": 264}, {"lat": 25.252856, "lon": 55.309003, "pci_mean": 0.403, "lst_mean": 49.5, "gvi_mean": 0.0387, "shade_mean": 0.573, "point_count": 20, "rank": 265}, {"lat": 25.249786, "lon": 55.306913, "pci_mean": 0.403, "lst_mean": 51.8, "gvi_mean": 0.0911, "shade_mean": 0.865, "point_count": 6, "rank": 266}, {"lat": 25.242872, "lon": 55.297193, "pci_mean": 0.402, "lst_mean": 49.8, "gvi_mean": 0.0031, "shade_mean": 0.623, "point_count": 6, "rank": 267}, {"lat": 25.250009, "lon": 55.30407, "pci_mean": 0.402, "lst_mean": 50.5, "gvi_mean": 0.0561, "shade_mean": 0.684, "point_count": 20, "rank": 268}, {"lat": 25.244943, "lon": 55.304919, "pci_mean": 0.402, "lst_mean": 50.1, "gvi_mean": 0.0208, "shade_mean": 0.657, "point_count": 55, "rank": 269}, {"lat": 25.250902, "lon": 55.307492, "pci_mean": 0.401, "lst_mean": 50.7, "gvi_mean": 0.002, "shade_mean": 0.774, "point_count": 16, "rank": 270}, {"lat": 25.246909, "lon": 55.303914, "pci_mean": 0.401, "lst_mean": 50.5, "gvi_mean": 0.0295, "shade_mean": 0.709, "point_count": 50, "rank": 271}, {"lat": 25.239216, "lon": 55.296677, "pci_mean": 0.401, "lst_mean": 48.7, "gvi_mean": 0.008, "shade_mean": 0.418, "point_count": 5, "rank": 272}, {"lat": 25.253279, "lon": 55.307835, "pci_mean": 0.4, "lst_mean": 50.3, "gvi_mean": 0.0726, "shade_mean": 0.629, "point_count": 3, "rank": 273}, {"lat": 25.249864, "lon": 55.306515, "pci_mean": 0.4, "lst_mean": 51.6, "gvi_mean": 0.0897, "shade_mean": 0.831, "point_count": 12, "rank": 274}, {"lat": 25.235914, "lon": 55.304663, "pci_mean": 0.4, "lst_mean": 49.7, "gvi_mean": 0.0102, "shade_mean": 0.579, "point_count": 52, "rank": 275}, {"lat": 25.245325, "lon": 55.304055, "pci_mean": 0.399, "lst_mean": 50.3, "gvi_mean": 0.0531, "shade_mean": 0.634, "point_count": 56, "rank": 276}, {"lat": 25.247314, "lon": 55.299705, "pci_mean": 0.399, "lst_mean": 50.9, "gvi_mean": 0.0103, "shade_mean": 0.79, "point_count": 4, "rank": 277}, {"lat": 25.24846, "lon": 55.300411, "pci_mean": 0.398, "lst_mean": 49.9, "gvi_mean": 0.0334, "shade_mean": 0.653, "point_count": 25, "rank": 278}, {"lat": 25.244437, "lon": 55.304681, "pci_mean": 0.397, "lst_mean": 50.8, "gvi_mean": 0.0531, "shade_mean": 0.731, "point_count": 30, "rank": 279}, {"lat": 25.237691, "lon": 55.299534, "pci_mean": 0.396, "lst_mean": 50.1, "gvi_mean": 0.0062, "shade_mean": 0.651, "point_count": 7, "rank": 280}, {"lat": 25.252526, "lon": 55.30895, "pci_mean": 0.396, "lst_mean": 50.3, "gvi_mean": 0.0118, "shade_mean": 0.684, "point_count": 60, "rank": 281}, {"lat": 25.24195, "lon": 55.303148, "pci_mean": 0.396, "lst_mean": 50.5, "gvi_mean": 0.002, "shade_mean": 0.725, "point_count": 12, "rank": 282}, {"lat": 25.238027, "lon": 55.304382, "pci_mean": 0.395, "lst_mean": 51.1, "gvi_mean": 0.1019, "shade_mean": 0.718, "point_count": 19, "rank": 283}, {"lat": 25.250057, "lon": 55.311045, "pci_mean": 0.395, "lst_mean": 50.4, "gvi_mean": 0.0145, "shade_mean": 0.763, "point_count": 7, "rank": 284}, {"lat": 25.243012, "lon": 55.304287, "pci_mean": 0.393, "lst_mean": 49.9, "gvi_mean": 0.0564, "shade_mean": 0.554, "point_count": 24, "rank": 285}, {"lat": 25.24612, "lon": 55.299308, "pci_mean": 0.393, "lst_mean": 50.2, "gvi_mean": 0.0022, "shade_mean": 0.758, "point_count": 7, "rank": 286}, {"lat": 25.251952, "lon": 55.310477, "pci_mean": 0.392, "lst_mean": 50.1, "gvi_mean": 0.0132, "shade_mean": 0.632, "point_count": 43, "rank": 287}, {"lat": 25.242124, "lon": 55.303275, "pci_mean": 0.391, "lst_mean": 50.5, "gvi_mean": 0.0039, "shade_mean": 0.712, "point_count": 3, "rank": 288}, {"lat": 25.252948, "lon": 55.30794, "pci_mean": 0.391, "lst_mean": 50.0, "gvi_mean": 0.0105, "shade_mean": 0.625, "point_count": 89, "rank": 289}, {"lat": 25.245392, "lon": 55.307705, "pci_mean": 0.39, "lst_mean": 51.2, "gvi_mean": 0.1963, "shade_mean": 0.622, "point_count": 4, "rank": 290}, {"lat": 25.254656, "lon": 55.304535, "pci_mean": 0.39, "lst_mean": 50.4, "gvi_mean": 0.001, "shade_mean": 0.689, "point_count": 31, "rank": 291}, {"lat": 25.242007, "lon": 55.306561, "pci_mean": 0.389, "lst_mean": 50.0, "gvi_mean": 0.0298, "shade_mean": 0.589, "point_count": 56, "rank": 292}, {"lat": 25.23889, "lon": 55.29745, "pci_mean": 0.388, "lst_mean": 49.3, "gvi_mean": 0.0043, "shade_mean": 0.498, "point_count": 45, "rank": 293}, {"lat": 25.254551, "lon": 55.304937, "pci_mean": 0.388, "lst_mean": 49.6, "gvi_mean": 0.0016, "shade_mean": 0.598, "point_count": 68, "rank": 294}, {"lat": 25.23757, "lon": 55.300022, "pci_mean": 0.387, "lst_mean": 50.1, "gvi_mean": 0.0348, "shade_mean": 0.599, "point_count": 3, "rank": 295}, {"lat": 25.242678, "lon": 55.304403, "pci_mean": 0.387, "lst_mean": 50.1, "gvi_mean": 0.0483, "shade_mean": 0.585, "point_count": 21, "rank": 296}, {"lat": 25.242135, "lon": 55.301118, "pci_mean": 0.386, "lst_mean": 50.0, "gvi_mean": 0.003, "shade_mean": 0.604, "point_count": 6, "rank": 297}, {"lat": 25.249722, "lon": 55.307108, "pci_mean": 0.385, "lst_mean": 51.5, "gvi_mean": 0.0145, "shade_mean": 0.855, "point_count": 6, "rank": 298}, {"lat": 25.242563, "lon": 55.306832, "pci_mean": 0.384, "lst_mean": 49.8, "gvi_mean": 0.0476, "shade_mean": 0.519, "point_count": 26, "rank": 299}, {"lat": 25.2502, "lon": 55.30508, "pci_mean": 0.383, "lst_mean": 51.6, "gvi_mean": 0.0227, "shade_mean": 0.865, "point_count": 6, "rank": 300}, {"lat": 25.242532, "lon": 55.303364, "pci_mean": 0.383, "lst_mean": 50.6, "gvi_mean": 0.0071, "shade_mean": 0.695, "point_count": 15, "rank": 301}, {"lat": 25.238545, "lon": 55.304476, "pci_mean": 0.383, "lst_mean": 51.6, "gvi_mean": 0.0617, "shade_mean": 0.812, "point_count": 30, "rank": 302}, {"lat": 25.238624, "lon": 55.302796, "pci_mean": 0.383, "lst_mean": 51.0, "gvi_mean": 0.0093, "shade_mean": 0.763, "point_count": 13, "rank": 303}, {"lat": 25.244033, "lon": 55.304588, "pci_mean": 0.382, "lst_mean": 50.3, "gvi_mean": 0.0483, "shade_mean": 0.597, "point_count": 96, "rank": 304}, {"lat": 25.249545, "lon": 55.307378, "pci_mean": 0.381, "lst_mean": 51.5, "gvi_mean": 0.0656, "shade_mean": 0.785, "point_count": 22, "rank": 305}, {"lat": 25.235515, "lon": 55.304569, "pci_mean": 0.381, "lst_mean": 50.2, "gvi_mean": 0.0053, "shade_mean": 0.621, "point_count": 81, "rank": 306}, {"lat": 25.24451, "lon": 55.306494, "pci_mean": 0.38, "lst_mean": 50.5, "gvi_mean": 0.0177, "shade_mean": 0.699, "point_count": 59, "rank": 307}, {"lat": 25.237301, "lon": 55.303372, "pci_mean": 0.38, "lst_mean": 50.6, "gvi_mean": 0.001, "shade_mean": 0.698, "point_count": 4, "rank": 308}, {"lat": 25.237706, "lon": 55.30426, "pci_mean": 0.38, "lst_mean": 51.0, "gvi_mean": 0.0184, "shade_mean": 0.749, "point_count": 3, "rank": 309}, {"lat": 25.237471, "lon": 55.304127, "pci_mean": 0.379, "lst_mean": 50.8, "gvi_mean": 0.0115, "shade_mean": 0.759, "point_count": 17, "rank": 310}, {"lat": 25.243018, "lon": 55.306903, "pci_mean": 0.379, "lst_mean": 49.9, "gvi_mean": 0.0313, "shade_mean": 0.545, "point_count": 63, "rank": 311}, {"lat": 25.239194, "lon": 55.305596, "pci_mean": 0.378, "lst_mean": 50.5, "gvi_mean": 0.0089, "shade_mean": 0.666, "point_count": 3, "rank": 312}, {"lat": 25.252777, "lon": 55.309345, "pci_mean": 0.377, "lst_mean": 49.8, "gvi_mean": 0.0311, "shade_mean": 0.582, "point_count": 6, "rank": 313}, {"lat": 25.250518, "lon": 55.3094, "pci_mean": 0.377, "lst_mean": 50.2, "gvi_mean": 0.0626, "shade_mean": 0.547, "point_count": 29, "rank": 314}, {"lat": 25.248785, "lon": 55.30873, "pci_mean": 0.376, "lst_mean": 50.7, "gvi_mean": 0.1023, "shade_mean": 0.591, "point_count": 4, "rank": 315}, {"lat": 25.247602, "lon": 55.313912, "pci_mean": 0.375, "lst_mean": 50.4, "gvi_mean": 0.006, "shade_mean": 0.662, "point_count": 40, "rank": 316}, {"lat": 25.246554, "lon": 55.299454, "pci_mean": 0.374, "lst_mean": 50.5, "gvi_mean": 0.0187, "shade_mean": 0.65, "point_count": 62, "rank": 317}, {"lat": 25.250289, "lon": 55.310635, "pci_mean": 0.373, "lst_mean": 50.7, "gvi_mean": 0.0039, "shade_mean": 0.711, "point_count": 4, "rank": 318}, {"lat": 25.247312, "lon": 55.305972, "pci_mean": 0.373, "lst_mean": 50.7, "gvi_mean": 0.0658, "shade_mean": 0.622, "point_count": 8, "rank": 319}, {"lat": 25.248886, "lon": 55.307187, "pci_mean": 0.372, "lst_mean": 51.4, "gvi_mean": 0.0027, "shade_mean": 0.876, "point_count": 6, "rank": 320}, {"lat": 25.247938, "lon": 55.314416, "pci_mean": 0.372, "lst_mean": 50.5, "gvi_mean": 0.0588, "shade_mean": 0.593, "point_count": 75, "rank": 321}, {"lat": 25.246444, "lon": 55.304523, "pci_mean": 0.371, "lst_mean": 50.5, "gvi_mean": 0.0011, "shade_mean": 0.645, "point_count": 31, "rank": 322}, {"lat": 25.25164, "lon": 55.310539, "pci_mean": 0.371, "lst_mean": 50.4, "gvi_mean": 0.0302, "shade_mean": 0.597, "point_count": 46, "rank": 323}, {"lat": 25.248016, "lon": 55.313971, "pci_mean": 0.37, "lst_mean": 50.6, "gvi_mean": 0.0223, "shade_mean": 0.64, "point_count": 86, "rank": 324}, {"lat": 25.249986, "lon": 55.305995, "pci_mean": 0.367, "lst_mean": 51.4, "gvi_mean": 0.0393, "shade_mean": 0.778, "point_count": 11, "rank": 325}, {"lat": 25.239365, "lon": 55.305707, "pci_mean": 0.367, "lst_mean": 50.6, "gvi_mean": 0.0063, "shade_mean": 0.67, "point_count": 15, "rank": 326}, {"lat": 25.241533, "lon": 55.306424, "pci_mean": 0.366, "lst_mean": 50.6, "gvi_mean": 0.023, "shade_mean": 0.627, "point_count": 57, "rank": 327}, {"lat": 25.246331, "lon": 55.310894, "pci_mean": 0.366, "lst_mean": 50.6, "gvi_mean": 0.0051, "shade_mean": 0.704, "point_count": 5, "rank": 328}, {"lat": 25.246359, "lon": 55.299181, "pci_mean": 0.365, "lst_mean": 50.5, "gvi_mean": 0.0244, "shade_mean": 0.614, "point_count": 13, "rank": 329}, {"lat": 25.246246, "lon": 55.304478, "pci_mean": 0.365, "lst_mean": 50.6, "gvi_mean": 0.0022, "shade_mean": 0.658, "point_count": 5, "rank": 330}, {"lat": 25.240466, "lon": 55.305441, "pci_mean": 0.365, "lst_mean": 51.2, "gvi_mean": 0.0017, "shade_mean": 0.778, "point_count": 13, "rank": 331}, {"lat": 25.248922, "lon": 55.313111, "pci_mean": 0.365, "lst_mean": 50.3, "gvi_mean": 0.0072, "shade_mean": 0.611, "point_count": 189, "rank": 332}, {"lat": 25.244653, "lon": 55.304839, "pci_mean": 0.365, "lst_mean": 50.8, "gvi_mean": 0.0111, "shade_mean": 0.68, "point_count": 50, "rank": 333}, {"lat": 25.24906, "lon": 55.307302, "pci_mean": 0.364, "lst_mean": 51.3, "gvi_mean": 0.006, "shade_mean": 0.764, "point_count": 8, "rank": 334}, {"lat": 25.244908, "lon": 55.307546, "pci_mean": 0.363, "lst_mean": 51.1, "gvi_mean": 0.1302, "shade_mean": 0.596, "point_count": 30, "rank": 335}, {"lat": 25.243504, "lon": 55.307042, "pci_mean": 0.361, "lst_mean": 50.2, "gvi_mean": 0.0353, "shade_mean": 0.54, "point_count": 86, "rank": 336}, {"lat": 25.2425, "lon": 55.304093, "pci_mean": 0.361, "lst_mean": 50.8, "gvi_mean": 0.0309, "shade_mean": 0.654, "point_count": 54, "rank": 337}, {"lat": 25.241411, "lon": 55.303678, "pci_mean": 0.359, "lst_mean": 51.4, "gvi_mean": 0.0109, "shade_mean": 0.752, "point_count": 24, "rank": 338}, {"lat": 25.251299, "lon": 55.309235, "pci_mean": 0.359, "lst_mean": 51.6, "gvi_mean": 0.0321, "shade_mean": 0.768, "point_count": 4, "rank": 339}, {"lat": 25.248556, "lon": 55.308809, "pci_mean": 0.358, "lst_mean": 50.3, "gvi_mean": 0.0524, "shade_mean": 0.523, "point_count": 20, "rank": 340}, {"lat": 25.24333, "lon": 55.302919, "pci_mean": 0.358, "lst_mean": 51.2, "gvi_mean": 0.0707, "shade_mean": 0.73, "point_count": 6, "rank": 341}, {"lat": 25.238555, "lon": 55.302676, "pci_mean": 0.356, "lst_mean": 50.9, "gvi_mean": 0.0083, "shade_mean": 0.68, "point_count": 29, "rank": 342}, {"lat": 25.252086, "lon": 55.309991, "pci_mean": 0.356, "lst_mean": 51.2, "gvi_mean": 0.0174, "shade_mean": 0.713, "point_count": 54, "rank": 343}, {"lat": 25.2452, "lon": 55.304023, "pci_mean": 0.356, "lst_mean": 50.3, "gvi_mean": 0.0713, "shade_mean": 0.492, "point_count": 35, "rank": 344}, {"lat": 25.237992, "lon": 55.302437, "pci_mean": 0.355, "lst_mean": 50.7, "gvi_mean": 0.0189, "shade_mean": 0.61, "point_count": 24, "rank": 345}, {"lat": 25.250288, "lon": 55.304893, "pci_mean": 0.354, "lst_mean": 51.6, "gvi_mean": 0.0548, "shade_mean": 0.731, "point_count": 7, "rank": 346}, {"lat": 25.23634, "lon": 55.302376, "pci_mean": 0.354, "lst_mean": 50.2, "gvi_mean": 0.0012, "shade_mean": 0.56, "point_count": 8, "rank": 347}, {"lat": 25.241327, "lon": 55.306216, "pci_mean": 0.351, "lst_mean": 50.8, "gvi_mean": 0.0111, "shade_mean": 0.632, "point_count": 4, "rank": 348}, {"lat": 25.245142, "lon": 55.304508, "pci_mean": 0.351, "lst_mean": 50.4, "gvi_mean": 0.0272, "shade_mean": 0.552, "point_count": 28, "rank": 349}, {"lat": 25.238347, "lon": 55.298449, "pci_mean": 0.351, "lst_mean": 50.3, "gvi_mean": 0.0026, "shade_mean": 0.585, "point_count": 39, "rank": 350}, {"lat": 25.25487, "lon": 55.304395, "pci_mean": 0.351, "lst_mean": 50.9, "gvi_mean": 0.0019, "shade_mean": 0.674, "point_count": 30, "rank": 351}, {"lat": 25.246526, "lon": 55.30394, "pci_mean": 0.35, "lst_mean": 50.7, "gvi_mean": 0.0046, "shade_mean": 0.642, "point_count": 27, "rank": 352}, {"lat": 25.236559, "lon": 55.301983, "pci_mean": 0.35, "lst_mean": 50.3, "gvi_mean": 0.0025, "shade_mean": 0.552, "point_count": 23, "rank": 353}, {"lat": 25.250113, "lon": 55.305499, "pci_mean": 0.35, "lst_mean": 51.8, "gvi_mean": 0.0588, "shade_mean": 0.755, "point_count": 12, "rank": 354}, {"lat": 25.244034, "lon": 55.301488, "pci_mean": 0.35, "lst_mean": 51.1, "gvi_mean": 0.0004, "shade_mean": 0.748, "point_count": 5, "rank": 355}, {"lat": 25.245634, "lon": 55.308046, "pci_mean": 0.348, "lst_mean": 51.3, "gvi_mean": 0.1001, "shade_mean": 0.621, "point_count": 31, "rank": 356}, {"lat": 25.248055, "lon": 55.30752, "pci_mean": 0.347, "lst_mean": 51.3, "gvi_mean": 0.0039, "shade_mean": 0.832, "point_count": 9, "rank": 357}, {"lat": 25.241994, "lon": 55.304514, "pci_mean": 0.347, "lst_mean": 51.5, "gvi_mean": 0.0824, "shade_mean": 0.671, "point_count": 14, "rank": 358}, {"lat": 25.236964, "lon": 55.301634, "pci_mean": 0.346, "lst_mean": 50.5, "gvi_mean": 0.0249, "shade_mean": 0.561, "point_count": 10, "rank": 359}, {"lat": 25.237364, "lon": 55.300983, "pci_mean": 0.345, "lst_mean": 50.3, "gvi_mean": 0.0078, "shade_mean": 0.53, "point_count": 4, "rank": 360}, {"lat": 25.243981, "lon": 55.307181, "pci_mean": 0.344, "lst_mean": 50.5, "gvi_mean": 0.0461, "shade_mean": 0.536, "point_count": 100, "rank": 361}, {"lat": 25.238052, "lon": 55.304891, "pci_mean": 0.344, "lst_mean": 50.4, "gvi_mean": 0.0764, "shade_mean": 0.477, "point_count": 4, "rank": 362}, {"lat": 25.241992, "lon": 55.303926, "pci_mean": 0.344, "lst_mean": 51.2, "gvi_mean": 0.0099, "shade_mean": 0.712, "point_count": 76, "rank": 363}, {"lat": 25.238963, "lon": 55.30462, "pci_mean": 0.344, "lst_mean": 51.7, "gvi_mean": 0.015, "shade_mean": 0.787, "point_count": 20, "rank": 364}, {"lat": 25.237492, "lon": 55.303005, "pci_mean": 0.344, "lst_mean": 50.9, "gvi_mean": 0.002, "shade_mean": 0.617, "point_count": 10, "rank": 365}, {"lat": 25.245978, "lon": 55.30797, "pci_mean": 0.343, "lst_mean": 51.3, "gvi_mean": 0.1152, "shade_mean": 0.588, "point_count": 21, "rank": 366}, {"lat": 25.244434, "lon": 55.307395, "pci_mean": 0.343, "lst_mean": 50.9, "gvi_mean": 0.0819, "shade_mean": 0.565, "point_count": 38, "rank": 367}, {"lat": 25.235952, "lon": 55.303008, "pci_mean": 0.342, "lst_mean": 50.7, "gvi_mean": 0.0022, "shade_mean": 0.551, "point_count": 12, "rank": 368}, {"lat": 25.252463, "lon": 55.310009, "pci_mean": 0.342, "lst_mean": 50.5, "gvi_mean": 0.0232, "shade_mean": 0.571, "point_count": 39, "rank": 369}, {"lat": 25.254868, "lon": 55.30415, "pci_mean": 0.342, "lst_mean": 51.1, "gvi_mean": 0.0014, "shade_mean": 0.669, "point_count": 20, "rank": 370}, {"lat": 25.238561, "lon": 55.298014, "pci_mean": 0.342, "lst_mean": 50.2, "gvi_mean": 0.003, "shade_mean": 0.532, "point_count": 59, "rank": 371}, {"lat": 25.24, "lon": 55.304961, "pci_mean": 0.341, "lst_mean": 51.5, "gvi_mean": 0.0035, "shade_mean": 0.783, "point_count": 15, "rank": 372}, {"lat": 25.248064, "lon": 55.306911, "pci_mean": 0.339, "lst_mean": 51.2, "gvi_mean": 0.0264, "shade_mean": 0.657, "point_count": 40, "rank": 373}, {"lat": 25.240525, "lon": 55.303475, "pci_mean": 0.337, "lst_mean": 51.6, "gvi_mean": 0.1329, "shade_mean": 0.601, "point_count": 7, "rank": 374}, {"lat": 25.23895, "lon": 55.302986, "pci_mean": 0.335, "lst_mean": 51.3, "gvi_mean": 0.0159, "shade_mean": 0.678, "point_count": 8, "rank": 375}, {"lat": 25.242129, "lon": 55.304804, "pci_mean": 0.334, "lst_mean": 51.0, "gvi_mean": 0.0874, "shade_mean": 0.543, "point_count": 6, "rank": 376}, {"lat": 25.23871, "lon": 55.297665, "pci_mean": 0.334, "lst_mean": 50.2, "gvi_mean": 0.0039, "shade_mean": 0.535, "point_count": 16, "rank": 377}, {"lat": 25.24151, "lon": 55.305401, "pci_mean": 0.332, "lst_mean": 51.1, "gvi_mean": 0.0311, "shade_mean": 0.615, "point_count": 9, "rank": 378}, {"lat": 25.237583, "lon": 55.300533, "pci_mean": 0.329, "lst_mean": 50.3, "gvi_mean": 0.0505, "shade_mean": 0.437, "point_count": 5, "rank": 379}, {"lat": 25.238022, "lon": 55.298989, "pci_mean": 0.329, "lst_mean": 50.3, "gvi_mean": 0.0032, "shade_mean": 0.506, "point_count": 45, "rank": 380}, {"lat": 25.241094, "lon": 55.306336, "pci_mean": 0.329, "lst_mean": 50.9, "gvi_mean": 0.0066, "shade_mean": 0.595, "point_count": 25, "rank": 381}, {"lat": 25.237599, "lon": 55.302352, "pci_mean": 0.329, "lst_mean": 50.6, "gvi_mean": 0.0859, "shade_mean": 0.455, "point_count": 51, "rank": 382}, {"lat": 25.236187, "lon": 55.302572, "pci_mean": 0.329, "lst_mean": 50.4, "gvi_mean": 0.0058, "shade_mean": 0.514, "point_count": 13, "rank": 383}, {"lat": 25.252484, "lon": 55.309498, "pci_mean": 0.328, "lst_mean": 51.1, "gvi_mean": 0.0228, "shade_mean": 0.616, "point_count": 37, "rank": 384}, {"lat": 25.239584, "lon": 55.305813, "pci_mean": 0.327, "lst_mean": 50.5, "gvi_mean": 0.0075, "shade_mean": 0.543, "point_count": 19, "rank": 385}, {"lat": 25.254487, "lon": 55.303984, "pci_mean": 0.327, "lst_mean": 51.1, "gvi_mean": 0.0019, "shade_mean": 0.659, "point_count": 32, "rank": 386}, {"lat": 25.248396, "lon": 55.313919, "pci_mean": 0.326, "lst_mean": 50.4, "gvi_mean": 0.016, "shade_mean": 0.504, "point_count": 38, "rank": 387}, {"lat": 25.237865, "lon": 55.299378, "pci_mean": 0.326, "lst_mean": 50.0, "gvi_mean": 0.0043, "shade_mean": 0.45, "point_count": 15, "rank": 388}, {"lat": 25.239559, "lon": 55.304827, "pci_mean": 0.325, "lst_mean": 51.7, "gvi_mean": 0.005, "shade_mean": 0.765, "point_count": 12, "rank": 389}, {"lat": 25.2405, "lon": 55.30605, "pci_mean": 0.324, "lst_mean": 51.0, "gvi_mean": 0.0084, "shade_mean": 0.637, "point_count": 45, "rank": 390}, {"lat": 25.240958, "lon": 55.306171, "pci_mean": 0.324, "lst_mean": 51.0, "gvi_mean": 0.0106, "shade_mean": 0.629, "point_count": 28, "rank": 391}, {"lat": 25.248432, "lon": 55.307077, "pci_mean": 0.323, "lst_mean": 51.6, "gvi_mean": 0.0055, "shade_mean": 0.692, "point_count": 30, "rank": 392}, {"lat": 25.240515, "lon": 55.305148, "pci_mean": 0.322, "lst_mean": 51.5, "gvi_mean": 0.011, "shade_mean": 0.712, "point_count": 30, "rank": 393}, {"lat": 25.23582, "lon": 55.303391, "pci_mean": 0.322, "lst_mean": 51.1, "gvi_mean": 0.0011, "shade_mean": 0.613, "point_count": 3, "rank": 394}, {"lat": 25.251983, "lon": 55.309513, "pci_mean": 0.321, "lst_mean": 51.8, "gvi_mean": 0.0251, "shade_mean": 0.721, "point_count": 49, "rank": 395}, {"lat": 25.240003, "lon": 55.305945, "pci_mean": 0.319, "lst_mean": 50.7, "gvi_mean": 0.0074, "shade_mean": 0.59, "point_count": 32, "rank": 396}, {"lat": 25.23935, "lon": 55.304718, "pci_mean": 0.319, "lst_mean": 51.7, "gvi_mean": 0.0012, "shade_mean": 0.789, "point_count": 4, "rank": 397}, {"lat": 25.240955, "lon": 55.305277, "pci_mean": 0.317, "lst_mean": 51.3, "gvi_mean": 0.0221, "shade_mean": 0.617, "point_count": 16, "rank": 398}, {"lat": 25.24855, "lon": 55.313512, "pci_mean": 0.317, "lst_mean": 50.7, "gvi_mean": 0.0102, "shade_mean": 0.523, "point_count": 125, "rank": 399}, {"lat": 25.244059, "lon": 55.307308, "pci_mean": 0.316, "lst_mean": 50.7, "gvi_mean": 0.0451, "shade_mean": 0.49, "point_count": 41, "rank": 400}, {"lat": 25.243518, "lon": 55.302517, "pci_mean": 0.316, "lst_mean": 51.3, "gvi_mean": 0.0523, "shade_mean": 0.75, "point_count": 7, "rank": 401}, {"lat": 25.237862, "lon": 55.299956, "pci_mean": 0.315, "lst_mean": 50.0, "gvi_mean": 0.0056, "shade_mean": 0.403, "point_count": 5, "rank": 402}, {"lat": 25.239483, "lon": 55.303143, "pci_mean": 0.315, "lst_mean": 51.9, "gvi_mean": 0.0041, "shade_mean": 0.726, "point_count": 7, "rank": 403}, {"lat": 25.240987, "lon": 55.303636, "pci_mean": 0.314, "lst_mean": 51.6, "gvi_mean": 0.0229, "shade_mean": 0.653, "point_count": 10, "rank": 404}, {"lat": 25.238194, "lon": 55.298631, "pci_mean": 0.311, "lst_mean": 50.6, "gvi_mean": 0.0025, "shade_mean": 0.522, "point_count": 19, "rank": 405}, {"lat": 25.252115, "lon": 55.309106, "pci_mean": 0.31, "lst_mean": 51.3, "gvi_mean": 0.0054, "shade_mean": 0.619, "point_count": 8, "rank": 406}, {"lat": 25.243818, "lon": 55.301905, "pci_mean": 0.307, "lst_mean": 51.0, "gvi_mean": 0.0085, "shade_mean": 0.557, "point_count": 5, "rank": 407}, {"lat": 25.248295, "lon": 55.307379, "pci_mean": 0.305, "lst_mean": 51.7, "gvi_mean": 0.0016, "shade_mean": 0.685, "point_count": 3, "rank": 408}, {"lat": 25.251002, "lon": 55.309502, "pci_mean": 0.304, "lst_mean": 50.9, "gvi_mean": 0.0185, "shade_mean": 0.503, "point_count": 45, "rank": 409}, {"lat": 25.240048, "lon": 55.30332, "pci_mean": 0.293, "lst_mean": 51.5, "gvi_mean": 0.0346, "shade_mean": 0.574, "point_count": 7, "rank": 410}, {"lat": 25.244434, "lon": 55.307085, "pci_mean": 0.288, "lst_mean": 50.7, "gvi_mean": 0.0463, "shade_mean": 0.394, "point_count": 100, "rank": 411}, {"lat": 25.251512, "lon": 55.309462, "pci_mean": 0.287, "lst_mean": 51.7, "gvi_mean": 0.0112, "shade_mean": 0.618, "point_count": 51, "rank": 412}, {"lat": 25.243669, "lon": 55.302115, "pci_mean": 0.284, "lst_mean": 51.3, "gvi_mean": 0.0017, "shade_mean": 0.597, "point_count": 3, "rank": 413}, {"lat": 25.235553, "lon": 55.304035, "pci_mean": 0.28, "lst_mean": 51.0, "gvi_mean": 0.0113, "shade_mean": 0.455, "point_count": 9, "rank": 414}, {"lat": 25.23564, "lon": 55.303548, "pci_mean": 0.277, "lst_mean": 51.3, "gvi_mean": 0.0021, "shade_mean": 0.476, "point_count": 7, "rank": 415}, {"lat": 25.25161, "lon": 55.310015, "pci_mean": 0.27, "lst_mean": 51.5, "gvi_mean": 0.0367, "shade_mean": 0.493, "point_count": 226, "rank": 416}, {"lat": 25.241226, "lon": 55.304179, "pci_mean": 0.27, "lst_mean": 52.8, "gvi_mean": 0.0197, "shade_mean": 0.735, "point_count": 5, "rank": 417}, {"lat": 25.241418, "lon": 55.30389, "pci_mean": 0.265, "lst_mean": 51.8, "gvi_mean": 0.0108, "shade_mean": 0.585, "point_count": 65, "rank": 418}, {"lat": 25.241014, "lon": 55.305021, "pci_mean": 0.261, "lst_mean": 51.9, "gvi_mean": 0.0067, "shade_mean": 0.582, "point_count": 39, "rank": 419}, {"lat": 25.241157, "lon": 55.304523, "pci_mean": 0.2, "lst_mean": 52.8, "gvi_mean": 0.0111, "shade_mean": 0.587, "point_count": 26, "rank": 420}];
        var routeData = {"shortest": [[25.240518463353666, 55.296952383858816], [25.240293411008498, 55.29780328273773], [25.239861309981354, 55.29847727372096], [25.2405970814074, 55.29898479580879], [25.241465274396077, 55.299029420403876], [25.241687619934826, 55.299291014671326], [25.24210768172262, 55.30002440725054], [25.241900712515886, 55.300453305244446], [25.2415938105423, 55.30100727081299], [25.241394994139764, 55.30147598339961], [25.241616223065932, 55.30209507261004], [25.241520380396608, 55.3025039434433], [25.24194963878444, 55.30314803123474], [25.2425319010154, 55.30336403846741], [25.24286063540562, 55.304036885499954], [25.2434162425208, 55.304389070756365], [25.244033487897088, 55.30458798632026], [25.244437172947634, 55.304681181907654], [25.244830839252153, 55.305490136146545], [25.244976106203403, 55.30605741169142], [25.24558118440199, 55.306819677352905], [25.24650976209814, 55.30710129176869], [25.246503187106317, 55.3080803877429], [25.246864465889114, 55.308163839278464], [25.247488004262205, 55.30840805768967], [25.24799406427659, 55.308566737174985], [25.24878497906925, 55.30872970819473], [25.249486484313937, 55.30901436622326], [25.250461307187997, 55.30915550887585]], "comfort": [[25.240518463353666, 55.296952383858816], [25.240293411008498, 55.29780328273773], [25.239861309981354, 55.29847727372096], [25.2405970814074, 55.29898479580879], [25.241465274396077, 55.299029420403876], [25.241687619934826, 55.299291014671326], [25.24210768172262, 55.30002440725054], [25.241900712515886, 55.300453305244446], [25.2415938105423, 55.30100727081299], [25.241394994139764, 55.30147598339961], [25.241616223065932, 55.30209507261004], [25.241520380396608, 55.3025039434433], [25.242124317815193, 55.30327498912811], [25.2424997884686, 55.304092754017226], [25.24249793581954, 55.304874658584595], [25.242638648853507, 55.30579483509064], [25.243039356453806, 55.305913388729095], [25.243859232916307, 55.306179225444794], [25.24412388883588, 55.306298553943634], [25.24443447202025, 55.30708476305008], [25.244908310739877, 55.30754613876343], [25.24539222379459, 55.307705104351044], [25.245977588668296, 55.30797038759504], [25.246864465889114, 55.308163839278464], [25.247488004262205, 55.30840805768967], [25.24799406427659, 55.308566737174985], [25.248464578303096, 55.308665718351094], [25.248981683931063, 55.30891701579094], [25.249486484313937, 55.30901436622326], [25.24998809467423, 55.30910267279698], [25.250461307187997, 55.30915550887585]], "start": [25.240518463353666, 55.296952383858816], "end": [25.250461307187997, 55.30915550887585], "short_dist": 2189, "short_pci": 0.479, "short_lst": 49.6, "comfort_dist": 2199, "comfort_pci": 0.489, "comfort_lst": 49.6};

        function getPciColor(pci) {
            if (pci >= 0.6) return '#1b5e20';
            if (pci >= 0.45) return '#66bb6a';
            if (pci >= 0.3) return '#ffb74d';
            return '#e53935';
        }

        // Segment layer
        var segmentLayer = L.layerGroup();
        segments.forEach(function(s) {
            var popup = '<b>Street Segment #' + s.rank + '</b><br>' +
                       'Comfort Index: ' + s.pci_mean.toFixed(3) + '<br>' +
                       'Temperature: ' + s.lst_mean + '°C<br>' +
                       'Vegetation: ' + (s.gvi_mean * 100).toFixed(1) + '%<br>' +
                       'Shade: ' + (s.shade_mean * 100).toFixed(0) + '%<br>' +
                       'Data points: ' + s.point_count;

            L.circleMarker([s.lat, s.lon], {
                radius: Math.min(12, 5 + s.point_count / 3),
                fillColor: getPciColor(s.pci_mean),
                color: 'white',
                weight: 2,
                fillOpacity: 0.85
            }).bindPopup(popup).addTo(segmentLayer);
        });

        // Route layer
        var routeLayer = L.layerGroup();
        if (routeData.shortest) {
            // Shortest route (blue dashed)
            L.polyline(routeData.shortest, {
                color: '#1565c0',
                weight: 4,
                dashArray: '10, 10',
                opacity: 0.8
            }).addTo(routeLayer);

            // Comfort route (green solid)
            L.polyline(routeData.comfort, {
                color: '#2e7d32',
                weight: 5,
                opacity: 0.9
            }).addTo(routeLayer);

            // Start/end markers
            L.marker(routeData.start, {
                icon: L.divIcon({
                    className: 'start-marker',
                    html: '<div style="background:#1565c0;color:white;padding:5px 10px;border-radius:4px;font-weight:bold;">START</div>',
                    iconSize: [60, 30]
                })
            }).addTo(routeLayer);

            L.marker(routeData.end, {
                icon: L.divIcon({
                    className: 'end-marker',
                    html: '<div style="background:#c62828;color:white;padding:5px 10px;border-radius:4px;font-weight:bold;">END</div>',
                    iconSize: [50, 30]
                })
            }).addTo(routeLayer);

            // Update route panel
            document.getElementById('short-dist').textContent = routeData.short_dist;
            document.getElementById('short-pci').textContent = routeData.short_pci;
            document.getElementById('short-lst').textContent = routeData.short_lst;
            document.getElementById('comfort-dist').textContent = routeData.comfort_dist;
            document.getElementById('comfort-pci').textContent = routeData.comfort_pci;
            document.getElementById('comfort-lst').textContent = routeData.comfort_lst;

            var extraDist = ((routeData.comfort_dist - routeData.short_dist) / routeData.short_dist * 100).toFixed(0);
            var tempSaved = (routeData.short_lst - routeData.comfort_lst).toFixed(1);
            document.getElementById('comparison').innerHTML =
                'Comfort route is <b>' + extraDist + '% longer</b> but <b>' + tempSaved + '°C cooler</b>';
        }

        // Top areas list
        var topHtml = '';
        segments.slice(0, 10).forEach(function(s, i) {
            topHtml += '<div style="padding:3px 0;cursor:pointer;" onclick="map.setView([' + s.lat + ',' + s.lon + '],17)">' +
                      (i+1) + '. PCI ' + s.pci_mean.toFixed(2) + ' - ' + s.lst_mean + '°C, ' + (s.shade_mean*100).toFixed(0) + '% shade</div>';
        });
        document.getElementById('top-areas').innerHTML = topHtml;

        // Worst areas list
        var worstHtml = '';
        var worstSegments = segments.slice().sort(function(a, b) { return a.pci_mean - b.pci_mean; });
        worstSegments.slice(0, 10).forEach(function(s, i) {
            worstHtml += '<div style="padding:3px 0;cursor:pointer;color:#c62828;" onclick="map.setView([' + s.lat + ',' + s.lon + '],17)">' +
                      (i+1) + '. PCI ' + s.pci_mean.toFixed(2) + ' - ' + s.lst_mean + '°C, ' + (s.shade_mean*100).toFixed(0) + '% shade</div>';
        });
        document.getElementById('worst-areas').innerHTML = worstHtml;

        segmentLayer.addTo(map);
        var currentLayer = 'segments';

        function showLayer(name) {
            map.removeLayer(segmentLayer);
            map.removeLayer(routeLayer);

            document.querySelectorAll('.btn').forEach(b => b.classList.remove('btn-active'));
            document.getElementById('btn-' + name).classList.add('btn-active');
            document.getElementById('route-panel').style.display = name === 'routes' ? 'block' : 'none';

            if (name === 'segments') {
                segmentLayer.addTo(map);
            } else if (name === 'routes') {
                segmentLayer.addTo(map);
                routeLayer.addTo(map);
                if (routeData.start) {
                    map.fitBounds([routeData.start, routeData.end], {padding: [50, 50]});
                }
            }
            currentLayer = name;
        }
    </script>
</body>
</html>